<!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CodeSnap Academy - Login</title>
  <link rel="stylesheet" href="css/login.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <div class="binary-background">
    <canvas id="binaryCanvas"></canvas>
  </div>
  
  <div class="container">
    <div class="login-card">
      <div class="logo-container">
        <div class="logo">
          <svg class="icon" viewBox="0 0 24 24" width="48" height="48" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path>
            <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>
          </svg>
        </div>
        <h1>CodeSnap Academy</h1>
      </div>
      
      <div class="welcome-text">
        <h2 class="title">Xush kelibsiz!</h2>
        <p class="subtitle">Hisobingizga kirish uchun ma'lumotlarni kiriting</p>
      </div>
      
      <form id="loginForm">
        <div class="input-group">
          <label for="email">Email</label>
          <input type="email" id="email" required placeholder="itpark0071@gmail.com">
          <span class="error-message" id="emailError"></span>
        </div>
        
        <div class="input-group">
          <label for="password">Parol</label>
          <div class="password-input">
            <input type="password" id="password" required placeholder="Parol kiriting">
            <button type="button" id="togglePassword" class="toggle-password">
              <svg class="icon eye" viewBox="0 0 24 24" width="20" height="20" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round">
                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                <circle cx="12" cy="12" r="3"></circle>
              </svg>
              <svg class="icon eye-off" viewBox="0 0 24 24" width="20" height="20" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round">
                <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path>
                <line x1="1" y1="1" x2="23" y2="23"></line>
              </svg>
            </button>
          </div>
          <span class="error-message" id="passwordError"></span>
        </div>
        
        <div class="captcha-container">
          <div class="captcha" id="captcha">
            <canvas id="captchaCanvas" width="160" height="40"></canvas>
            <button type="button" id="refreshCaptcha" class="refresh-captcha">
              <svg viewBox="0 0 24 24" width="20" height="20" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round">
                <path d="M23 4v6h-6"></path>
                <path d="M1 20v-6h6"></path>
                <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10"></path>
                <path d="M20.49 15a9 9 0 0 1-14.85 3.36L1 14"></path>
              </svg>
            </button>
          </div>
          <div class="input-group">
            <label for="captchaInput">Captcha</label>
            <input type="text" id="captchaInput" required placeholder="Captcha kodini kiriting">
            <span class="error-message" id="captchaError"></span>
          </div>
        </div>
        
        <div class="remember-forgot">
          <div class="remember">
            <input type="checkbox" id="remember">
            <label for="remember">Meni eslab qolish</label>
          </div>
          <a href="#" class="forgot-link">Parolni unutdingizmi?</a>
        </div>
        
        <button type="submit" class="login-button">Kirish</button>
      </form>
      
      <div class="language-switch">
        <button class="lang-btn active" data-lang="uz">UZ</button>
        <button class="lang-btn" data-lang="ru">RU</button>
      </div>
      
      <div class="theme-switch">
        <button id="themeToggle" class="theme-toggle">
          <svg class="icon sun" viewBox="0 0 24 24" width="20" height="20" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="5"></circle>
            <line x1="12" y1="1" x2="12" y2="3"></line>
            <line x1="12" y1="21" x2="12" y2="23"></line>
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
            <line x1="1" y1="12" x2="3" y2="12"></line>
            <line x1="21" y1="12" x2="23" y2="12"></line>
            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
          </svg>
          <svg class="icon moon" viewBox="0 0 24 24" width="20" height="20" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
          </svg>
        </button>
      </div>
    </div>
  </div>
  
  <script>
    document.addEventListener('DOMContentLoaded', function() {
  // Binary orqa fon
  const canvas = document.getElementById('binaryCanvas');
  const ctx = canvas.getContext('2d');
  
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
  
  const binary = '01';
  const fontSize = 12;
  const columns = canvas.width / fontSize;
  
  const drops = [];
  for (let i = 0; i < columns; i++) {
    drops[i] = Math.floor(Math.random() * canvas.height / fontSize);
  }
  
  let isDarkMode = localStorage.getItem('darkMode') === 'true';
  if (isDarkMode) {
    document.body.classList.add('dark-mode');
  }
  
  function drawBinary() {
    ctx.fillStyle = isDarkMode ? 'rgba(18, 18, 18, 0.05)' : 'rgba(255, 255, 255, 0.05)';
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    
    ctx.fillStyle = isDarkMode ? 'rgba(67, 97, 238, 0.7)' : 'rgba(67, 97, 238, 0.3)';
    ctx.font = `${fontSize}px monospace`;
    
    for (let i = 0; i < drops.length; i++) {
      const text = binary.charAt(Math.floor(Math.random() * binary.length));
      ctx.fillText(text, i * fontSize, drops[i] * fontSize);
      
      if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) {
        drops[i] = 0;
      }
      
      drops[i]++;
    }
  }
  
  setInterval(drawBinary, 60);
  
  // Window 
  window.addEventListener('resize', function() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    
    const newColumns = canvas.width / fontSize;
    
    if (newColumns > columns) {
      for (let i = columns; i < newColumns; i++) {
        drops[i] = Math.floor(Math.random() * canvas.height / fontSize);
      }
    }
  });
  
  // Captcha 
  const captchaCanvas = document.getElementById('captchaCanvas');
  const captchaCtx = captchaCanvas.getContext('2d');
  let captchaText = '';
  
  function generateCaptcha() {
    const characters = '123456789';
    captchaText = '';
    
    for (let i = 0; i < 6; i++) {
      captchaText += characters.charAt(Math.floor(Math.random() * characters.length));
    }
    
    captchaCtx.clearRect(0, 0, captchaCanvas.width, captchaCanvas.height);
    
    const gradient = captchaCtx.createLinearGradient(0, 0, captchaCanvas.width, 0);
    gradient.addColorStop(0, isDarkMode ? '#4361ee' : '#6483ff');
    gradient.addColorStop(1, isDarkMode ? '#7209b7' : '#f72585');
    
    captchaCtx.fillStyle = isDarkMode ? '#1e1e1e' : '#f8f9fa';
    captchaCtx.fillRect(0, 0, captchaCanvas.width, captchaCanvas.height);
    
    for (let i = 0; i < 100; i++) {
      const x = Math.random() * captchaCanvas.width;
      const y = Math.random() * captchaCanvas.height;
      captchaCtx.fillStyle = isDarkMode ? 'rgba(255, 255, 255, 0.2)' : 'rgba(0, 0, 0, 0.1)';
      captchaCtx.fillRect(x, y, 2, 2);
    }
    
    for (let i = 0; i < 5; i++) {
      captchaCtx.beginPath();
      captchaCtx.moveTo(Math.random() * captchaCanvas.width, Math.random() * captchaCanvas.height);
      captchaCtx.lineTo(Math.random() * captchaCanvas.width, Math.random() * captchaCanvas.height);
      captchaCtx.strokeStyle = gradient;
      captchaCtx.lineWidth = 1;
      captchaCtx.stroke();
    }
    
    captchaCtx.font = 'bold 24px Arial';
    captchaCtx.fillStyle = gradient;
    captchaCtx.textAlign = 'center';
    captchaCtx.textBaseline = 'middle';
    
    for (let i = 0; i < captchaText.length; i++) {
      const x = (i + 0.5) * (captchaCanvas.width / captchaText.length);
      const y = captchaCanvas.height / 2 + Math.random() * 6 - 3;
      
      captchaCtx.save();
      captchaCtx.translate(x, y);
      captchaCtx.rotate((Math.random() - 0.5) * 0.3);
      captchaCtx.fillText(captchaText[i], 0, 0);
      captchaCtx.restore();
    }
  }
  
  generateCaptcha();
  
  document.getElementById('refreshCaptcha').addEventListener('click', generateCaptcha);
  
  const togglePasswordBtn = document.getElementById('togglePassword');
  const passwordInput = document.getElementById('password');
  
  togglePasswordBtn.addEventListener('click', function() {
    const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
    passwordInput.setAttribute('type', type);
    togglePasswordBtn.classList.toggle('show');
  });
  
  const loginForm = document.getElementById('loginForm');
  const emailInput = document.getElementById('email');
  const captchaInput = document.getElementById('captchaInput');
  const emailError = document.getElementById('emailError');
  const passwordError = document.getElementById('passwordError');
  const captchaError = document.getElementById('captchaError');
  
  loginForm.addEventListener('submit', function(e) {
    e.preventDefault();
    
    let isValid = true;
    
    emailError.textContent = '';
    passwordError.textContent = '';
    captchaError.textContent = '';
    
    if (!emailInput.value) {
      emailError.textContent = 'Email kiritish majburiy';
      isValid = false;
    } else if (!/^\S+@\S+\.\S+$/.test(emailInput.value)) {
      emailError.textContent = 'Email noto\'g\'ri formatda';
      isValid = false;
    }
    
    if (!passwordInput.value) {
      passwordError.textContent = 'Parol kiritish majburiy';
      isValid = false;
    } else if (passwordInput.value.length < 6) {
      passwordError.textContent = 'Parol kamida 6 ta belgidan iborat bo\'lishi kerak';
      isValid = false;
    }
    
    if (!captchaInput.value) {
      captchaError.textContent = 'Captcha kiritish majburiy';
      isValid = false;
    } else if (captchaInput.value !== captchaText) {
      captchaError.textContent = 'Captcha noto\'g\'ri';
      captchaInput.value = '';
      generateCaptcha();
      isValid = false;
    }
    
    if (isValid) {
      const successAnimation = document.createElement('div');
      successAnimation.className = 'success-animation';
      document.body.appendChild(successAnimation);
      
      setTimeout(() => {
        window.location.href = 'nav.html';
      }, 1000);
    }
  });
  
  const themeToggle = document.getElementById('themeToggle');
  
  themeToggle.addEventListener('click', function() {
    isDarkMode = !isDarkMode;
    document.body.classList.toggle('dark-mode');
    localStorage.setItem('darkMode', isDarkMode);
    generateCaptcha();
  });
  
  const langBtns = document.querySelectorAll('.lang-btn');
  
  langBtns.forEach(btn => {
    btn.addEventListener('click', function() {
      langBtns.forEach(b => b.classList.remove('active'));
      this.classList.add('active');
      
      const lang = this.getAttribute('data-lang');
      if (lang === 'ru') {
        document.querySelector('.welcome-text .title').textContent = 'Добро пожаловать!';
        document.querySelector('.welcome-text .subtitle').textContent = 'Введите свои данные для входа в аккаунт';
        document.querySelector('label[for="email"]').textContent = 'Электронная почта';
        document.querySelector('label[for="password"]').textContent = 'Пароль';
        document.querySelector('label[for="captchaInput"]').textContent = 'Капча';
        document.querySelector('label[for="remember"]').textContent = 'Запомнить меня';
        document.querySelector('.forgot-link').textContent = 'Забыли пароль?';
        document.querySelector('.login-button').textContent = 'Войти';
        emailInput.placeholder = 'itpark0071@gmail.com';
        passwordInput.placeholder = 'Введите пароль';
        captchaInput.placeholder = 'Введите код капчи';
      } else {
        document.querySelector('.welcome-text .title').textContent = 'Xush kelibsiz!';
        document.querySelector('.welcome-text .subtitle').textContent = 'Hisobingizga kirish uchun ma\'lumotlarni kiriting';
        document.querySelector('label[for="email"]').textContent = 'Email';
        document.querySelector('label[for="password"]').textContent = 'Parol';
        document.querySelector('label[for="captchaInput"]').textContent = 'Captcha';
        document.querySelector('label[for="remember"]').textContent = 'Meni eslab qolish';
        document.querySelector('.forgot-link').textContent = 'Parolni unutdingizmi?';
        document.querySelector('.login-button').textContent = 'Kirish';
        emailInput.placeholder = 'itpark0071@gmail.com';
        passwordInput.placeholder = 'Parol kiriting';
        captchaInput.placeholder = 'Captcha kodini kiriting';
      }
    });
  });
  
  const inputs = document.querySelectorAll('input');
  
  inputs.forEach(input => {
    input.addEventListener('focus', function() {
      this.parentElement.classList.add('focused');
    });
    
    input.addEventListener('blur', function() {
      this.parentElement.classList.remove('focused');
    });
  });
});
  </script>
</body>
</html>